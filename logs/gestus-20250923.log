2025-09-23 15:04:52.247 -03:00 [INF] üîç Ambiente atual: Production
2025-09-23 15:04:52.291 -03:00 [INF] üîç √â Development? False
2025-09-23 15:04:52.430 -03:00 [INF] üîß Verificando estado do banco de dados...
2025-09-23 15:04:53.306 -03:00 [WRN] The foreign key property 'PapelPermissaoAplicacao.PapelId1' was created in shadow state because a conflicting property with the simple name 'PapelId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-23 15:04:53.311 -03:00 [WRN] The foreign key property 'UsuarioAplicacao.UsuarioId1' was created in shadow state because a conflicting property with the simple name 'UsuarioId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-23 15:04:54.335 -03:00 [INF] ‚úÖ Migra√ß√µes aplicadas com sucesso
2025-09-23 15:04:54.337 -03:00 [INF] üå± Executando seeder inicial...
2025-09-23 15:04:54.365 -03:00 [INF] üå± Iniciando seeder de dados iniciais...
2025-09-23 15:04:54.460 -03:00 [INF] üìä Conex√£o com banco: OK
2025-09-23 15:04:54.495 -03:00 [INF] üîß Criando scopes OpenIddict...
2025-09-23 15:04:54.846 -03:00 [ERR] Failed executing DbCommand (35ms) [Parameters=[@__name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."ConcurrencyToken", o."Description", o."Descriptions", o."DisplayName", o."DisplayNames", o."Name", o."Properties", o."Resources"
FROM "OpenIddictScopes" AS o
WHERE o."Name" = @__name_0
LIMIT 1
2025-09-23 15:04:54.865 -03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Gestus.Dados.GestusDbContexto'.
Npgsql.PostgresException (0x80004005): 42P01: rela√ß√£o "OpenIddictScopes" n√£o existe

POSITION: 154
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERRO
    SqlState: 42P01
    MessageText: rela√ß√£o "OpenIddictScopes" n√£o existe
    Position: 154
    File: parse_relation.c
    Line: 1452
    Routine: parserOpenTable
Npgsql.PostgresException (0x80004005): 42P01: rela√ß√£o "OpenIddictScopes" n√£o existe

POSITION: 154
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERRO
    SqlState: 42P01
    MessageText: rela√ß√£o "OpenIddictScopes" n√£o existe
    Position: 154
    File: parse_relation.c
    Line: 1452
    Routine: parserOpenTable
2025-09-23 15:04:54.878 -03:00 [ERR] ‚ùå Erro durante a execu√ß√£o do seeder
Npgsql.PostgresException (0x80004005): 42P01: rela√ß√£o "OpenIddictScopes" n√£o existe

POSITION: 154
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at OpenIddict.EntityFrameworkCore.OpenIddictEntityFrameworkCoreScopeStore`2.FindByNameAsync(String name, CancellationToken cancellationToken)
   at OpenIddict.Core.OpenIddictScopeCache`1.<>c__DisplayClass7_0.<<FindByNameAsync>g__ExecuteAsync|0>d.MoveNext()
--- End of stack trace from previous location ---
   at OpenIddict.Core.OpenIddictScopeManager`1.FindByNameAsync(String name, CancellationToken cancellationToken)
   at OpenIddict.Core.OpenIddictScopeManager`1.OpenIddict.Abstractions.IOpenIddictScopeManager.FindByNameAsync(String name, CancellationToken cancellationToken)
   at Gestus.Dados.SeederInicial.CriarScopesOpenIddict(IOpenIddictScopeManager scopeManager, ILogger logger) in D:\projetos\Gestus\Dados\SeederInicial.cs:line 886
   at Gestus.Dados.SeederInicial.ExecutarAsync(IServiceProvider serviceProvider) in D:\projetos\Gestus\Dados\SeederInicial.cs:line 37
  Exception data:
    Severity: ERRO
    SqlState: 42P01
    MessageText: rela√ß√£o "OpenIddictScopes" n√£o existe
    Position: 154
    File: parse_relation.c
    Line: 1452
    Routine: parserOpenTable
2025-09-23 15:04:54.898 -03:00 [ERR] ‚ùå Erro durante a inicializa√ß√£o do banco de dados
Npgsql.PostgresException (0x80004005): 42P01: rela√ß√£o "OpenIddictScopes" n√£o existe

POSITION: 154
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at OpenIddict.EntityFrameworkCore.OpenIddictEntityFrameworkCoreScopeStore`2.FindByNameAsync(String name, CancellationToken cancellationToken)
   at OpenIddict.Core.OpenIddictScopeCache`1.<>c__DisplayClass7_0.<<FindByNameAsync>g__ExecuteAsync|0>d.MoveNext()
--- End of stack trace from previous location ---
   at OpenIddict.Core.OpenIddictScopeManager`1.FindByNameAsync(String name, CancellationToken cancellationToken)
   at OpenIddict.Core.OpenIddictScopeManager`1.OpenIddict.Abstractions.IOpenIddictScopeManager.FindByNameAsync(String name, CancellationToken cancellationToken)
   at Gestus.Dados.SeederInicial.CriarScopesOpenIddict(IOpenIddictScopeManager scopeManager, ILogger logger) in D:\projetos\Gestus\Dados\SeederInicial.cs:line 886
   at Gestus.Dados.SeederInicial.ExecutarAsync(IServiceProvider serviceProvider) in D:\projetos\Gestus\Dados\SeederInicial.cs:line 37
   at Gestus.Inicializacao.AplicarMigracoesESeederAsync(WebApplication app) in D:\projetos\Gestus\Inicializacao.cs:line 186
  Exception data:
    Severity: ERRO
    SqlState: 42P01
    MessageText: rela√ß√£o "OpenIddictScopes" n√£o existe
    Position: 154
    File: parse_relation.c
    Line: 1452
    Routine: parserOpenTable
2025-09-23 15:04:54.911 -03:00 [WRN] ‚ö†Ô∏è Continuando inicializa√ß√£o da aplica√ß√£o mesmo com erro no seeder...
2025-09-23 15:04:55.163 -03:00 [INF] Initializing UI Database
2025-09-23 15:04:55.439 -03:00 [WRN] The WebRootPath was not found: D:\projetos\Gestus\wwwroot. Static files may be unavailable.
2025-09-23 15:04:55.751 -03:00 [WRN] Failed to determine the https port for redirect.
2025-09-23 15:04:56.078 -03:00 [INF] HTTP GET /saude responded 200 in 375.8551 ms
2025-09-23 15:04:56.205 -03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-09-23 15:05:26.661 -03:00 [INF] HTTP GET /saude responded 200 in 220.0444 ms
2025-09-23 15:05:56.805 -03:00 [INF] HTTP GET /saude responded 200 in 100.1366 ms
2025-09-23 15:06:26.935 -03:00 [INF] HTTP GET /saude responded 200 in 101.8343 ms
2025-09-23 15:06:57.116 -03:00 [INF] HTTP GET /saude responded 200 in 139.5198 ms
2025-09-23 15:07:30.716 -03:00 [INF] HTTP GET /saude responded 200 in 3567.6279 ms
2025-09-23 15:08:00.843 -03:00 [INF] HTTP GET /saude responded 200 in 101.4946 ms
2025-09-23 15:08:30.985 -03:00 [INF] HTTP GET /saude responded 200 in 114.3135 ms
2025-09-23 15:09:01.135 -03:00 [INF] HTTP GET /saude responded 200 in 115.2154 ms
2025-09-23 15:09:31.264 -03:00 [INF] HTTP GET /saude responded 200 in 96.1100 ms
2025-09-23 15:10:01.469 -03:00 [INF] HTTP GET /saude responded 200 in 93.7112 ms
2025-09-23 15:10:31.594 -03:00 [INF] HTTP GET /saude responded 200 in 93.8401 ms
2025-09-23 15:11:01.714 -03:00 [INF] HTTP GET /saude responded 200 in 95.3556 ms
2025-09-23 15:11:31.843 -03:00 [INF] HTTP GET /saude responded 200 in 98.5500 ms
2025-09-23 15:12:01.961 -03:00 [INF] HTTP GET /saude responded 200 in 97.5663 ms
2025-09-23 15:12:32.114 -03:00 [INF] HTTP GET /saude responded 200 in 127.1672 ms
2025-09-23 15:13:02.265 -03:00 [INF] HTTP GET /saude responded 200 in 128.6269 ms
2025-09-23 15:13:32.388 -03:00 [INF] HTTP GET /saude responded 200 in 90.5774 ms
2025-09-23 15:14:02.512 -03:00 [INF] HTTP GET /saude responded 200 in 94.9182 ms
2025-09-23 15:14:32.619 -03:00 [INF] HTTP GET /saude responded 200 in 90.9391 ms
2025-09-23 15:15:02.842 -03:00 [INF] HTTP GET /saude responded 200 in 103.4674 ms
2025-09-23 15:25:40.098 -03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-23 15:27:15.859 -03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-23 15:27:16.304 -03:00 [ERR] Failed executing DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-23 15:27:34.233 -03:00 [INF] üîç Ambiente atual: Production
2025-09-23 15:27:34.281 -03:00 [INF] üîç √â Development? False
2025-09-23 15:27:34.434 -03:00 [INF] üîß Verificando estado do banco de dados...
2025-09-23 15:27:35.988 -03:00 [INF] ‚úÖ Migra√ß√µes aplicadas com sucesso
2025-09-23 15:27:35.990 -03:00 [INF] üå± Executando seeder inicial...
2025-09-23 15:27:36.013 -03:00 [INF] üå± Iniciando seeder de dados iniciais...
2025-09-23 15:27:36.113 -03:00 [INF] üìä Conex√£o com banco: OK
2025-09-23 15:27:36.118 -03:00 [INF] üîß Criando scopes OpenIddict...
2025-09-23 15:27:36.621 -03:00 [INF] ‚úÖ Scope 'profile' criado no OpenIddict
2025-09-23 15:27:36.632 -03:00 [INF] ‚úÖ Scope 'email' criado no OpenIddict
2025-09-23 15:27:36.638 -03:00 [INF] ‚úÖ Scope 'roles' criado no OpenIddict
2025-09-23 15:27:36.640 -03:00 [INF] üîß Criando aplica√ß√µes OpenIddict...
2025-09-23 15:27:36.777 -03:00 [INF] ‚úÖ Aplica√ß√£o 'gestus_api' criada no OpenIddict
2025-09-23 15:27:36.787 -03:00 [INF] ‚úÖ Aplica√ß√£o 'gestus_spa' criada no OpenIddict
2025-09-23 15:27:36.790 -03:00 [INF] üìã Criando pap√©is base...
2025-09-23 15:27:36.817 -03:00 [INF] üìã Pap√©is existentes antes: 0
2025-09-23 15:27:36.819 -03:00 [INF] üìã Verificando papel: SuperAdmin
2025-09-23 15:27:36.922 -03:00 [INF] ‚úÖ Papel criado: SuperAdmin
2025-09-23 15:27:36.925 -03:00 [INF] üìã Verificando papel: Admin
2025-09-23 15:27:36.931 -03:00 [INF] ‚úÖ Papel criado: Admin
2025-09-23 15:27:36.933 -03:00 [INF] üìã Verificando papel: Usuario
2025-09-23 15:27:36.937 -03:00 [INF] ‚úÖ Papel criado: Usuario
2025-09-23 15:27:36.939 -03:00 [INF] üìã Verificando papel: GestorUsuarios
2025-09-23 15:27:36.943 -03:00 [INF] ‚úÖ Papel criado: GestorUsuarios
2025-09-23 15:27:36.945 -03:00 [INF] üìã Verificando papel: GestorPermissoes
2025-09-23 15:27:36.949 -03:00 [INF] ‚úÖ Papel criado: GestorPermissoes
2025-09-23 15:27:36.950 -03:00 [INF] üìã Verificando papel: Auditor
2025-09-23 15:27:36.954 -03:00 [INF] ‚úÖ Papel criado: Auditor
2025-09-23 15:27:36.956 -03:00 [INF] üìã Pap√©is existentes depois: 6
2025-09-23 15:27:36.959 -03:00 [INF] üîê Criando permiss√µes base...
2025-09-23 15:27:37.029 -03:00 [INF] ‚úÖ 42 novas permiss√µes criadas
2025-09-23 15:27:37.036 -03:00 [INF] üìã Total de permiss√µes no sistema: 42
2025-09-23 15:27:37.040 -03:00 [INF] üîó Associando permiss√µes aos pap√©is...
2025-09-23 15:27:37.054 -03:00 [INF] üëë SuperAdmin n√£o requer associa√ß√£o expl√≠cita de permiss√µes (bypass total)
2025-09-23 15:27:37.106 -03:00 [INF] üîó 36 novas permiss√µes associadas ao papel Admin
2025-09-23 15:27:37.108 -03:00 [INF] ‚úÖ Admin agora tem 36 permiss√µes (com ressalvas)
2025-09-23 15:27:37.114 -03:00 [INF] üîó 1 novas permiss√µes associadas ao papel Usuario
2025-09-23 15:27:37.116 -03:00 [INF] ‚úÖ Usuario agora tem 1 permiss√µes
2025-09-23 15:27:37.122 -03:00 [INF] üîó 11 novas permiss√µes associadas ao papel GestorUsuarios
2025-09-23 15:27:37.123 -03:00 [INF] ‚úÖ GestorUsuarios agora tem 11 permiss√µes
2025-09-23 15:27:37.124 -03:00 [INF] üîó Associa√ß√£o de permiss√µes conclu√≠da!
2025-09-23 15:27:37.126 -03:00 [INF] üëë Criando usu√°rio Super Admin...
2025-09-23 15:27:37.128 -03:00 [INF] üëë Verificando se usu√°rio willian.cavalcante@skymsen.com j√° existe...
2025-09-23 15:27:37.390 -03:00 [INF] ‚úÖ Super Admin criado com ID: 1
2025-09-23 15:27:37.491 -03:00 [INF] ‚úÖ Papel SuperAdmin atribu√≠do ao usu√°rio
2025-09-23 15:27:37.495 -03:00 [INF] üë• Criando grupos base...
2025-09-23 15:27:37.525 -03:00 [INF] ‚úÖ Grupo 'Administradores' criado
2025-09-23 15:27:37.529 -03:00 [INF] ‚úÖ Grupo 'Gestores' criado
2025-09-23 15:27:37.531 -03:00 [INF] ‚úÖ Grupo 'Usuarios' criado
2025-09-23 15:27:37.535 -03:00 [INF] ‚úÖ Grupo 'Auditores' criado
2025-09-23 15:27:37.536 -03:00 [INF] üìß Criando templates de email...
2025-09-23 15:27:37.552 -03:00 [WRN] ‚ö†Ô∏è Nenhuma configura√ß√£o de email encontrada. Pulando cria√ß√£o de templates.
2025-09-23 15:27:37.555 -03:00 [INF] üß± Criando tipos e status de aplica√ß√£o base...
2025-09-23 15:27:37.613 -03:00 [INF] ‚úÖ TipoAplicacao 'webapp' criado
2025-09-23 15:27:37.659 -03:00 [INF] ‚úÖ StatusAplicacao 'ativa' criado
2025-09-23 15:27:37.699 -03:00 [INF] üß© Criando aplica√ß√£o 'Gestus'...
2025-09-23 15:27:37.813 -03:00 [INF] ‚úÖ Aplica√ß√£o 'Gestus' criada
2025-09-23 15:27:37.816 -03:00 [INF] üëë Criando usu√°rio Super Admin...
2025-09-23 15:27:37.817 -03:00 [INF] üëë Verificando se usu√°rio willian.cavalcante@skymsen.com j√° existe...
2025-09-23 15:27:37.819 -03:00 [INF] ‚ö†Ô∏è  Super Admin j√° existe (ID: 1)
2025-09-23 15:27:37.822 -03:00 [INF] üîç Usu√°rio tem papel SuperAdmin: True
2025-09-23 15:27:37.825 -03:00 [INF] üë§ Criando usu√°rio Administrador...
2025-09-23 15:27:37.921 -03:00 [INF] ‚úÖ Administrador criado com ID: 2
2025-09-23 15:27:37.984 -03:00 [INF] ‚úÖ Acesso do usu√°rio 1 √† aplica√ß√£o Gestus concedido
2025-09-23 15:27:37.995 -03:00 [INF] ‚úÖ Acesso do usu√°rio 2 √† aplica√ß√£o Gestus concedido
2025-09-23 15:27:37.996 -03:00 [INF] üíæ Salvando mudan√ßas no banco...
2025-09-23 15:27:37.998 -03:00 [INF] üíæ 0 mudan√ßas salvas no banco
2025-09-23 15:27:37.999 -03:00 [INF] ‚úÖ Seeder executado com sucesso!
2025-09-23 15:27:38.000 -03:00 [INF] üìß Inicializando templates de email padr√£o...
2025-09-23 15:27:38.003 -03:00 [INF] üå± Inicializando templates padr√£o do sistema...
2025-09-23 15:27:38.016 -03:00 [INF] ‚ö†Ô∏è Nenhuma configura√ß√£o de email encontrada. Criando configura√ß√£o padr√£o...
2025-09-23 15:27:38.039 -03:00 [WRN] ‚ö†Ô∏è Nenhuma chave ativa encontrada para EmailPassword. Criando nova...
2025-09-23 15:27:38.100 -03:00 [INF] ‚úÖ Nova chave criada - Contexto: EmailPassword, Vers√£o: 1
2025-09-23 15:27:38.192 -03:00 [INF] ‚úÖ Template padr√£o criado - Tipo: RecuperarSenha
2025-09-23 15:27:38.199 -03:00 [INF] ‚úÖ Template padr√£o criado - Tipo: BoasVindas
2025-09-23 15:27:38.205 -03:00 [INF] ‚úÖ Template padr√£o criado - Tipo: ConfirmarEmail
2025-09-23 15:27:38.206 -03:00 [INF] ‚úÖ Templates padr√£o inicializados com sucesso
2025-09-23 15:27:38.207 -03:00 [INF] ‚úÖ Templates de email inicializados com sucesso
2025-09-23 15:27:38.208 -03:00 [INF] ‚úÖ Inicializa√ß√£o do banco conclu√≠da com sucesso.
2025-09-23 15:27:38.431 -03:00 [INF] Initializing UI Database
2025-09-23 15:27:38.508 -03:00 [INF] Executing database migrations
2025-09-23 15:27:38.705 -03:00 [INF] Saving healthchecks configuration to database
2025-09-23 15:27:38.768 -03:00 [WRN] The WebRootPath was not found: D:\projetos\Gestus\wwwroot. Static files may be unavailable.
2025-09-23 15:27:39.029 -03:00 [WRN] Failed to determine the https port for redirect.
2025-09-23 15:27:39.301 -03:00 [INF] HTTP GET /saude responded 200 in 309.7410 ms
2025-09-23 15:27:39.408 -03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-09-23 15:28:09.722 -03:00 [INF] HTTP GET /saude responded 200 in 174.4543 ms
2025-09-23 15:28:39.876 -03:00 [INF] HTTP GET /saude responded 200 in 103.9348 ms
2025-09-23 15:29:09.987 -03:00 [INF] HTTP GET /saude responded 200 in 91.6377 ms
2025-09-23 15:29:40.110 -03:00 [INF] HTTP GET /saude responded 200 in 92.2183 ms
2025-09-23 15:30:10.279 -03:00 [INF] HTTP GET /saude responded 200 in 139.1446 ms
2025-09-23 15:30:40.418 -03:00 [INF] HTTP GET /saude responded 200 in 115.0396 ms
2025-09-23 15:31:10.535 -03:00 [INF] HTTP GET /saude responded 200 in 98.4396 ms
2025-09-23 15:31:40.662 -03:00 [INF] HTTP GET /saude responded 200 in 92.6415 ms
2025-09-23 15:32:10.793 -03:00 [INF] HTTP GET /saude responded 200 in 102.4721 ms
2025-09-23 15:32:40.995 -03:00 [INF] HTTP GET /saude responded 200 in 91.0519 ms
2025-09-23 15:33:11.122 -03:00 [INF] HTTP GET /saude responded 200 in 103.4263 ms
2025-09-23 15:33:41.239 -03:00 [INF] HTTP GET /saude responded 200 in 98.7674 ms
2025-09-23 15:34:11.359 -03:00 [INF] HTTP GET /saude responded 200 in 97.8418 ms
2025-09-23 15:34:41.477 -03:00 [INF] HTTP GET /saude responded 200 in 97.0238 ms
2025-09-23 15:35:11.591 -03:00 [INF] HTTP GET /saude responded 200 in 97.4948 ms
2025-09-23 15:35:41.812 -03:00 [INF] HTTP GET /saude responded 200 in 185.9776 ms
2025-09-23 15:37:30.458 -03:00 [INF] üîç Ambiente atual: Production
2025-09-23 15:37:30.499 -03:00 [INF] üîç √â Development? False
2025-09-23 15:37:30.618 -03:00 [INF] üîß Verificando estado do banco de dados...
2025-09-23 15:37:32.283 -03:00 [INF] ‚úÖ Migra√ß√µes aplicadas com sucesso
2025-09-23 15:37:32.287 -03:00 [INF] üå± Executando seeder inicial...
2025-09-23 15:37:32.310 -03:00 [INF] üå± Iniciando seeder de dados iniciais...
2025-09-23 15:37:32.409 -03:00 [INF] üìä Conex√£o com banco: OK
2025-09-23 15:37:32.414 -03:00 [INF] üîß Criando scopes OpenIddict...
2025-09-23 15:37:32.798 -03:00 [INF] ‚ö†Ô∏è Scope 'profile' j√° existe no OpenIddict
2025-09-23 15:37:32.814 -03:00 [INF] ‚ö†Ô∏è Scope 'email' j√° existe no OpenIddict
2025-09-23 15:37:32.817 -03:00 [INF] ‚ö†Ô∏è Scope 'roles' j√° existe no OpenIddict
2025-09-23 15:37:32.820 -03:00 [INF] üîß Criando aplica√ß√µes OpenIddict...
2025-09-23 15:37:32.881 -03:00 [INF] ‚ö†Ô∏è Aplica√ß√£o 'gestus_api' j√° existe no OpenIddict
2025-09-23 15:37:32.896 -03:00 [INF] ‚ö†Ô∏è Aplica√ß√£o 'gestus_spa' j√° existe no OpenIddict
2025-09-23 15:37:32.900 -03:00 [INF] üìã Criando pap√©is base...
2025-09-23 15:37:32.932 -03:00 [INF] üìã Pap√©is existentes antes: 6
2025-09-23 15:37:32.936 -03:00 [INF] üìã Verificando papel: SuperAdmin
2025-09-23 15:37:32.984 -03:00 [INF] ‚ö†Ô∏è  Papel 'SuperAdmin' j√° existe
2025-09-23 15:37:32.988 -03:00 [INF] üìã Verificando papel: Admin
2025-09-23 15:37:32.991 -03:00 [INF] ‚ö†Ô∏è  Papel 'Admin' j√° existe
2025-09-23 15:37:32.992 -03:00 [INF] üìã Verificando papel: Usuario
2025-09-23 15:37:32.993 -03:00 [INF] ‚ö†Ô∏è  Papel 'Usuario' j√° existe
2025-09-23 15:37:32.995 -03:00 [INF] üìã Verificando papel: GestorUsuarios
2025-09-23 15:37:32.996 -03:00 [INF] ‚ö†Ô∏è  Papel 'GestorUsuarios' j√° existe
2025-09-23 15:37:32.997 -03:00 [INF] üìã Verificando papel: GestorPermissoes
2025-09-23 15:37:32.999 -03:00 [INF] ‚ö†Ô∏è  Papel 'GestorPermissoes' j√° existe
2025-09-23 15:37:33.000 -03:00 [INF] üìã Verificando papel: Auditor
2025-09-23 15:37:33.002 -03:00 [INF] ‚ö†Ô∏è  Papel 'Auditor' j√° existe
2025-09-23 15:37:33.004 -03:00 [INF] üìã Pap√©is existentes depois: 6
2025-09-23 15:37:33.007 -03:00 [INF] üîê Criando permiss√µes base...
2025-09-23 15:37:33.021 -03:00 [INF] ‚ö†Ô∏è Todas as permiss√µes j√° existem
2025-09-23 15:37:33.026 -03:00 [INF] üìã Total de permiss√µes no sistema: 42
2025-09-23 15:37:33.028 -03:00 [INF] üîó Associando permiss√µes aos pap√©is...
2025-09-23 15:37:33.055 -03:00 [INF] üëë SuperAdmin n√£o requer associa√ß√£o expl√≠cita de permiss√µes (bypass total)
2025-09-23 15:37:33.069 -03:00 [INF] ‚ö†Ô∏è Todas as permiss√µes j√° est√£o associadas ao papel Admin
2025-09-23 15:37:33.072 -03:00 [INF] ‚úÖ Admin agora tem 36 permiss√µes (com ressalvas)
2025-09-23 15:37:33.074 -03:00 [INF] ‚ö†Ô∏è Todas as permiss√µes j√° est√£o associadas ao papel Usuario
2025-09-23 15:37:33.076 -03:00 [INF] ‚úÖ Usuario agora tem 1 permiss√µes
2025-09-23 15:37:33.078 -03:00 [INF] ‚ö†Ô∏è Todas as permiss√µes j√° est√£o associadas ao papel GestorUsuarios
2025-09-23 15:37:33.079 -03:00 [INF] ‚úÖ GestorUsuarios agora tem 11 permiss√µes
2025-09-23 15:37:33.080 -03:00 [INF] üîó Associa√ß√£o de permiss√µes conclu√≠da!
2025-09-23 15:37:33.082 -03:00 [INF] üëë Criando usu√°rio Super Admin...
2025-09-23 15:37:33.083 -03:00 [INF] üëë Verificando se usu√°rio willian.cavalcante@skymsen.com j√° existe...
2025-09-23 15:37:33.199 -03:00 [INF] ‚ö†Ô∏è  Super Admin j√° existe (ID: 1)
2025-09-23 15:37:33.271 -03:00 [INF] üîç Usu√°rio tem papel SuperAdmin: True
2025-09-23 15:37:33.274 -03:00 [INF] üë• Criando grupos base...
2025-09-23 15:37:33.289 -03:00 [INF] ‚ö†Ô∏è  Grupo 'Administradores' j√° existe
2025-09-23 15:37:33.292 -03:00 [INF] ‚ö†Ô∏è  Grupo 'Gestores' j√° existe
2025-09-23 15:37:33.295 -03:00 [INF] ‚ö†Ô∏è  Grupo 'Usuarios' j√° existe
2025-09-23 15:37:33.296 -03:00 [INF] ‚ö†Ô∏è  Grupo 'Auditores' j√° existe
2025-09-23 15:37:33.298 -03:00 [INF] üìß Criando templates de email...
2025-09-23 15:37:33.314 -03:00 [WRN] ‚ö†Ô∏è Nenhuma configura√ß√£o de email encontrada. Pulando cria√ß√£o de templates.
2025-09-23 15:37:33.317 -03:00 [INF] üß± Criando tipos e status de aplica√ß√£o base...
2025-09-23 15:37:33.400 -03:00 [INF] üß© Criando aplica√ß√£o 'Gestus'...
2025-09-23 15:37:33.507 -03:00 [INF] ‚ö†Ô∏è Aplica√ß√£o 'Gestus' j√° existe
2025-09-23 15:37:33.510 -03:00 [INF] üëë Criando usu√°rio Super Admin...
2025-09-23 15:37:33.513 -03:00 [INF] üëë Verificando se usu√°rio willian.cavalcante@skymsen.com j√° existe...
2025-09-23 15:37:33.517 -03:00 [INF] ‚ö†Ô∏è  Super Admin j√° existe (ID: 1)
2025-09-23 15:37:33.520 -03:00 [INF] üîç Usu√°rio tem papel SuperAdmin: True
2025-09-23 15:37:33.522 -03:00 [INF] üë§ Criando usu√°rio Administrador...
2025-09-23 15:37:33.527 -03:00 [INF] ‚ö†Ô∏è  Administrador j√° existe (ID: 2)
2025-09-23 15:37:33.591 -03:00 [INF] üíæ Salvando mudan√ßas no banco...
2025-09-23 15:37:33.626 -03:00 [INF] üíæ 0 mudan√ßas salvas no banco
2025-09-23 15:37:33.629 -03:00 [INF] ‚úÖ Seeder executado com sucesso!
2025-09-23 15:37:33.630 -03:00 [INF] üìß Inicializando templates de email padr√£o...
2025-09-23 15:37:33.634 -03:00 [INF] üå± Inicializando templates padr√£o do sistema...
2025-09-23 15:37:33.648 -03:00 [INF] ‚ö†Ô∏è Nenhuma configura√ß√£o de email encontrada. Criando configura√ß√£o padr√£o...
2025-09-23 15:37:33.863 -03:00 [INF] ‚úÖ Template padr√£o criado - Tipo: RecuperarSenha
2025-09-23 15:37:33.869 -03:00 [INF] ‚úÖ Template padr√£o criado - Tipo: BoasVindas
2025-09-23 15:37:33.876 -03:00 [INF] ‚úÖ Template padr√£o criado - Tipo: ConfirmarEmail
2025-09-23 15:37:33.877 -03:00 [INF] ‚úÖ Templates padr√£o inicializados com sucesso
2025-09-23 15:37:33.878 -03:00 [INF] ‚úÖ Templates de email inicializados com sucesso
2025-09-23 15:37:33.879 -03:00 [INF] ‚úÖ Inicializa√ß√£o do banco conclu√≠da com sucesso.
2025-09-23 15:37:34.117 -03:00 [INF] Initializing UI Database
2025-09-23 15:37:34.259 -03:00 [WRN] The WebRootPath was not found: D:\projetos\Gestus\wwwroot. Static files may be unavailable.
2025-09-23 15:37:34.558 -03:00 [WRN] Failed to determine the https port for redirect.
2025-09-23 15:37:34.873 -03:00 [INF] HTTP GET /saude responded 200 in 398.4196 ms
2025-09-23 15:37:34.970 -03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-09-23 15:38:01.830 -03:00 [INF] HTTP GET / responded 301 in 1.5318 ms
2025-09-23 15:38:01.914 -03:00 [INF] HTTP GET /index.html responded 200 in 68.0894 ms
2025-09-23 15:38:02.042 -03:00 [INF] HTTP GET /index.js responded 200 in 1.1299 ms
2025-09-23 15:38:02.049 -03:00 [INF] HTTP GET /index.css responded 200 in 12.6070 ms
2025-09-23 15:38:02.069 -03:00 [INF] HTTP GET /swagger-ui.css responded 200 in 33.9826 ms
2025-09-23 15:38:02.070 -03:00 [INF] HTTP GET /swagger-ui-standalone-preset.js responded 200 in 29.2927 ms
2025-09-23 15:38:02.138 -03:00 [INF] HTTP GET /swagger-ui-bundle.js responded 200 in 97.9786 ms
2025-09-23 15:38:02.331 -03:00 [INF] HTTP GET /favicon-32x32.png responded 200 in 0.3899 ms
2025-09-23 15:38:02.795 -03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 469.1512 ms
2025-09-23 15:38:05.293 -03:00 [INF] HTTP GET /saude responded 200 in 171.4841 ms
2025-09-23 15:38:32.075 -03:00 [INF] üîê Tentativa de login para: willian.cavalcante@skymsen.com
2025-09-23 15:38:32.087 -03:00 [INF] The request URI matched a server endpoint: "Token".
2025-09-23 15:38:32.106 -03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "client_id": "gestus_api",
  "client_secret": "[redacted]",
  "username": "willian.cavalcante@skymsen.com",
  "password": "[redacted]",
  "scope": "openid profile email roles"
}.
2025-09-23 15:38:32.286 -03:00 [INF] The token request was successfully validated.
2025-09-23 15:38:32.310 -03:00 [INF] üîê Processando grant type password para: willian.cavalcante@skymsen.com
2025-09-23 15:38:32.457 -03:00 [INF] üïê Token criado em - UTC: "2025-09-23T18:38:32.4577122Z", Timezone: E. South America Standard Time
2025-09-23 15:38:32.558 -03:00 [INF] ‚úÖ Token gerado com sucesso para: willian.cavalcante@skymsen.com
2025-09-23 15:38:32.778 -03:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3599,
  "scope": "openid",
  "id_token": "[redacted]"
}.
2025-09-23 15:38:32.787 -03:00 [INF] HTTP POST /connect/token responded 200 in 700.2347 ms
2025-09-23 15:38:32.806 -03:00 [INF] ‚úÖ Login realizado com sucesso para: willian.cavalcante@skymsen.com
2025-09-23 15:38:32.843 -03:00 [INF] HTTP POST /api/Autenticacao/login responded 200 in 886.7678 ms
2025-09-23 15:38:35.410 -03:00 [INF] HTTP GET /saude responded 200 in 93.5902 ms
2025-09-23 15:39:05.620 -03:00 [INF] HTTP GET /saude responded 200 in 174.6916 ms
2025-09-23 15:39:10.260 -03:00 [INF] üîç Listando usu√°rios - Solicitado por: 1, Filtros: {"Email":null,"Nome":null,"Ativo":null,"DataCriacaoInicio":null,"DataCriacaoFim":null,"Papeis":null,"OrdenarPor":"DataCriacao","DirecaoOrdenacao":"desc","Pagina":1,"ItensPorPagina":20,"$type":"FiltrosUsuario"}
2025-09-23 15:39:10.423 -03:00 [INF] üìù Auditoria registrada - Usuarios.Listar em Usuarios:N/A por usu√°rio 1
2025-09-23 15:39:10.430 -03:00 [INF] ‚úÖ Usu√°rios listados - Total: 2, P√°gina: 1/1
2025-09-23 15:39:10.439 -03:00 [INF] HTTP GET /api/Usuarios responded 200 in 264.0959 ms
2025-09-23 15:39:35.750 -03:00 [INF] HTTP GET /saude responded 200 in 96.1719 ms
2025-09-23 15:39:51.440 -03:00 [INF] HTTP GET /api/Usuarios/perfil responded 200 in 104.6590 ms
2025-09-23 15:40:05.873 -03:00 [INF] HTTP GET /saude responded 200 in 96.0009 ms
2025-09-23 15:40:23.982 -03:00 [ERR] ‚ùå Erro ao listar aplica√ß√µes do usu√°rio 1
System.InvalidOperationException: The client projection contains a reference to a constant expression of 'Gestus.Controllers.UsuariosController' through the instance method 'ConstruirAplicacaoUsuario'. This could potentially cause a memory leak; consider making the method static so that it does not capture constant in the instance. See https://go.microsoft.com/fwlink/?linkid=2103067 for more information and examples.
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.ConstantVerifyingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.VerifyNoClientConstant(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.VisitShapedQuery(ShapedQueryExpression shapedQueryExpression)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.VisitExtension(Expression extensionExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.VisitExtension(Expression extensionExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Gestus.Controllers.UsuariosController.ListarAplicacoesUsuario(Int32 id, FiltrosAplicacaoUsuario filtros) in D:\projetos\Gestus\Controllers\UsuariosController.cs:line 2146
2025-09-23 15:40:24.002 -03:00 [ERR] HTTP GET /api/Usuarios/1/aplicacoes responded 500 in 121.7761 ms
2025-09-23 15:40:36.993 -03:00 [INF] üîç Ambiente atual: Production
2025-09-23 15:40:37.032 -03:00 [INF] üîç √â Development? False
2025-09-23 15:40:37.166 -03:00 [INF] üîß Verificando estado do banco de dados...
2025-09-23 15:40:38.589 -03:00 [INF] ‚úÖ Migra√ß√µes aplicadas com sucesso
2025-09-23 15:40:38.591 -03:00 [INF] üå± Executando seeder inicial...
2025-09-23 15:40:38.616 -03:00 [INF] üå± Iniciando seeder de dados iniciais...
2025-09-23 15:40:38.731 -03:00 [INF] üìä Conex√£o com banco: OK
2025-09-23 15:40:38.736 -03:00 [INF] üîß Criando scopes OpenIddict...
2025-09-23 15:40:39.080 -03:00 [INF] ‚ö†Ô∏è Scope 'profile' j√° existe no OpenIddict
2025-09-23 15:40:39.096 -03:00 [INF] ‚ö†Ô∏è Scope 'email' j√° existe no OpenIddict
2025-09-23 15:40:39.099 -03:00 [INF] ‚ö†Ô∏è Scope 'roles' j√° existe no OpenIddict
2025-09-23 15:40:39.103 -03:00 [INF] üîß Criando aplica√ß√µes OpenIddict...
2025-09-23 15:40:39.169 -03:00 [INF] ‚ö†Ô∏è Aplica√ß√£o 'gestus_api' j√° existe no OpenIddict
2025-09-23 15:40:39.187 -03:00 [INF] ‚ö†Ô∏è Aplica√ß√£o 'gestus_spa' j√° existe no OpenIddict
2025-09-23 15:40:39.190 -03:00 [INF] üìã Criando pap√©is base...
2025-09-23 15:40:39.223 -03:00 [INF] üìã Pap√©is existentes antes: 6
2025-09-23 15:40:39.225 -03:00 [INF] üìã Verificando papel: SuperAdmin
2025-09-23 15:40:39.279 -03:00 [INF] ‚ö†Ô∏è  Papel 'SuperAdmin' j√° existe
2025-09-23 15:40:39.282 -03:00 [INF] üìã Verificando papel: Admin
2025-09-23 15:40:39.287 -03:00 [INF] ‚ö†Ô∏è  Papel 'Admin' j√° existe
2025-09-23 15:40:39.288 -03:00 [INF] üìã Verificando papel: Usuario
2025-09-23 15:40:39.291 -03:00 [INF] ‚ö†Ô∏è  Papel 'Usuario' j√° existe
2025-09-23 15:40:39.293 -03:00 [INF] üìã Verificando papel: GestorUsuarios
2025-09-23 15:40:39.296 -03:00 [INF] ‚ö†Ô∏è  Papel 'GestorUsuarios' j√° existe
2025-09-23 15:40:39.297 -03:00 [INF] üìã Verificando papel: GestorPermissoes
2025-09-23 15:40:39.300 -03:00 [INF] ‚ö†Ô∏è  Papel 'GestorPermissoes' j√° existe
2025-09-23 15:40:39.302 -03:00 [INF] üìã Verificando papel: Auditor
2025-09-23 15:40:39.305 -03:00 [INF] ‚ö†Ô∏è  Papel 'Auditor' j√° existe
2025-09-23 15:40:39.308 -03:00 [INF] üìã Pap√©is existentes depois: 6
2025-09-23 15:40:39.312 -03:00 [INF] üîê Criando permiss√µes base...
2025-09-23 15:40:39.326 -03:00 [INF] ‚ö†Ô∏è Todas as permiss√µes j√° existem
2025-09-23 15:40:39.331 -03:00 [INF] üìã Total de permiss√µes no sistema: 42
2025-09-23 15:40:39.334 -03:00 [INF] üîó Associando permiss√µes aos pap√©is...
2025-09-23 15:40:39.365 -03:00 [INF] üëë SuperAdmin n√£o requer associa√ß√£o expl√≠cita de permiss√µes (bypass total)
2025-09-23 15:40:39.381 -03:00 [INF] ‚ö†Ô∏è Todas as permiss√µes j√° est√£o associadas ao papel Admin
2025-09-23 15:40:39.382 -03:00 [INF] ‚úÖ Admin agora tem 36 permiss√µes (com ressalvas)
2025-09-23 15:40:39.386 -03:00 [INF] ‚ö†Ô∏è Todas as permiss√µes j√° est√£o associadas ao papel Usuario
2025-09-23 15:40:39.388 -03:00 [INF] ‚úÖ Usuario agora tem 1 permiss√µes
2025-09-23 15:40:39.391 -03:00 [INF] ‚ö†Ô∏è Todas as permiss√µes j√° est√£o associadas ao papel GestorUsuarios
2025-09-23 15:40:39.394 -03:00 [INF] ‚úÖ GestorUsuarios agora tem 11 permiss√µes
2025-09-23 15:40:39.395 -03:00 [INF] üîó Associa√ß√£o de permiss√µes conclu√≠da!
2025-09-23 15:40:39.397 -03:00 [INF] üëë Criando usu√°rio Super Admin...
2025-09-23 15:40:39.398 -03:00 [INF] üëë Verificando se usu√°rio willian.cavalcante@skymsen.com j√° existe...
2025-09-23 15:40:39.521 -03:00 [INF] ‚ö†Ô∏è  Super Admin j√° existe (ID: 1)
2025-09-23 15:40:39.593 -03:00 [INF] üîç Usu√°rio tem papel SuperAdmin: True
2025-09-23 15:40:39.596 -03:00 [INF] üë• Criando grupos base...
2025-09-23 15:40:39.612 -03:00 [INF] ‚ö†Ô∏è  Grupo 'Administradores' j√° existe
2025-09-23 15:40:39.615 -03:00 [INF] ‚ö†Ô∏è  Grupo 'Gestores' j√° existe
2025-09-23 15:40:39.617 -03:00 [INF] ‚ö†Ô∏è  Grupo 'Usuarios' j√° existe
2025-09-23 15:40:39.621 -03:00 [INF] ‚ö†Ô∏è  Grupo 'Auditores' j√° existe
2025-09-23 15:40:39.624 -03:00 [INF] üìß Criando templates de email...
2025-09-23 15:40:39.638 -03:00 [WRN] ‚ö†Ô∏è Nenhuma configura√ß√£o de email encontrada. Pulando cria√ß√£o de templates.
2025-09-23 15:40:39.643 -03:00 [INF] üß± Criando tipos e status de aplica√ß√£o base...
2025-09-23 15:40:39.715 -03:00 [INF] üß© Criando aplica√ß√£o 'Gestus'...
2025-09-23 15:40:39.818 -03:00 [INF] ‚ö†Ô∏è Aplica√ß√£o 'Gestus' j√° existe
2025-09-23 15:40:39.821 -03:00 [INF] üëë Criando usu√°rio Super Admin...
2025-09-23 15:40:39.822 -03:00 [INF] üëë Verificando se usu√°rio willian.cavalcante@skymsen.com j√° existe...
2025-09-23 15:40:39.824 -03:00 [INF] ‚ö†Ô∏è  Super Admin j√° existe (ID: 1)
2025-09-23 15:40:39.827 -03:00 [INF] üîç Usu√°rio tem papel SuperAdmin: True
2025-09-23 15:40:39.830 -03:00 [INF] üë§ Criando usu√°rio Administrador...
2025-09-23 15:40:39.834 -03:00 [INF] ‚ö†Ô∏è  Administrador j√° existe (ID: 2)
2025-09-23 15:40:39.897 -03:00 [INF] üíæ Salvando mudan√ßas no banco...
2025-09-23 15:40:39.933 -03:00 [INF] üíæ 0 mudan√ßas salvas no banco
2025-09-23 15:40:39.936 -03:00 [INF] ‚úÖ Seeder executado com sucesso!
2025-09-23 15:40:39.937 -03:00 [INF] üìß Inicializando templates de email padr√£o...
2025-09-23 15:40:39.942 -03:00 [INF] üå± Inicializando templates padr√£o do sistema...
2025-09-23 15:40:39.957 -03:00 [INF] ‚ö†Ô∏è Nenhuma configura√ß√£o de email encontrada. Criando configura√ß√£o padr√£o...
2025-09-23 15:40:40.204 -03:00 [INF] ‚úÖ Template padr√£o criado - Tipo: RecuperarSenha
2025-09-23 15:40:40.213 -03:00 [INF] ‚úÖ Template padr√£o criado - Tipo: BoasVindas
2025-09-23 15:40:40.219 -03:00 [INF] ‚úÖ Template padr√£o criado - Tipo: ConfirmarEmail
2025-09-23 15:40:40.221 -03:00 [INF] ‚úÖ Templates padr√£o inicializados com sucesso
2025-09-23 15:40:40.222 -03:00 [INF] ‚úÖ Templates de email inicializados com sucesso
2025-09-23 15:40:40.223 -03:00 [INF] ‚úÖ Inicializa√ß√£o do banco conclu√≠da com sucesso.
2025-09-23 15:40:40.384 -03:00 [INF] Initializing UI Database
2025-09-23 15:40:40.534 -03:00 [WRN] The WebRootPath was not found: D:\projetos\Gestus\wwwroot. Static files may be unavailable.
2025-09-23 15:40:40.702 -03:00 [WRN] Failed to determine the https port for redirect.
2025-09-23 15:40:40.948 -03:00 [INF] HTTP GET /saude responded 200 in 276.2033 ms
2025-09-23 15:40:41.034 -03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-09-23 15:40:43.229 -03:00 [ERR] ‚ùå Erro ao listar aplica√ß√µes do usu√°rio 2
System.InvalidOperationException: The client projection contains a reference to a constant expression of 'Gestus.Controllers.UsuariosController' through the instance method 'ConstruirAplicacaoUsuario'. This could potentially cause a memory leak; consider making the method static so that it does not capture constant in the instance. See https://go.microsoft.com/fwlink/?linkid=2103067 for more information and examples.
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.ConstantVerifyingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.VerifyNoClientConstant(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.VisitShapedQuery(ShapedQueryExpression shapedQueryExpression)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.VisitExtension(Expression extensionExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.VisitExtension(Expression extensionExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Gestus.Controllers.UsuariosController.ListarAplicacoesUsuario(Int32 id, FiltrosAplicacaoUsuario filtros) in D:\projetos\Gestus\Controllers\UsuariosController.cs:line 2146
2025-09-23 15:40:43.305 -03:00 [ERR] HTTP GET /api/Usuarios/2/aplicacoes responded 500 in 334.6815 ms
2025-09-23 15:41:11.280 -03:00 [INF] HTTP GET /saude responded 200 in 99.9860 ms
2025-09-23 15:41:41.410 -03:00 [INF] HTTP GET /saude responded 200 in 104.6656 ms
2025-09-23 15:42:11.534 -03:00 [INF] HTTP GET /saude responded 200 in 91.3330 ms
2025-09-23 15:42:41.694 -03:00 [INF] HTTP GET /saude responded 200 in 129.2746 ms
2025-09-23 15:43:27.036 -03:00 [INF] üîç Ambiente atual: Production
2025-09-23 15:43:27.073 -03:00 [INF] üîç √â Development? False
2025-09-23 15:43:27.196 -03:00 [INF] üîß Verificando estado do banco de dados...
2025-09-23 15:43:28.624 -03:00 [INF] ‚úÖ Migra√ß√µes aplicadas com sucesso
2025-09-23 15:43:28.627 -03:00 [INF] üå± Executando seeder inicial...
2025-09-23 15:43:28.649 -03:00 [INF] üå± Iniciando seeder de dados iniciais...
2025-09-23 15:43:28.746 -03:00 [INF] üìä Conex√£o com banco: OK
2025-09-23 15:43:28.751 -03:00 [INF] üîß Criando scopes OpenIddict...
2025-09-23 15:43:29.068 -03:00 [INF] ‚ö†Ô∏è Scope 'profile' j√° existe no OpenIddict
2025-09-23 15:43:29.083 -03:00 [INF] ‚ö†Ô∏è Scope 'email' j√° existe no OpenIddict
2025-09-23 15:43:29.088 -03:00 [INF] ‚ö†Ô∏è Scope 'roles' j√° existe no OpenIddict
2025-09-23 15:43:29.092 -03:00 [INF] üîß Criando aplica√ß√µes OpenIddict...
2025-09-23 15:43:29.162 -03:00 [INF] ‚ö†Ô∏è Aplica√ß√£o 'gestus_api' j√° existe no OpenIddict
2025-09-23 15:43:29.176 -03:00 [INF] ‚ö†Ô∏è Aplica√ß√£o 'gestus_spa' j√° existe no OpenIddict
2025-09-23 15:43:29.179 -03:00 [INF] üìã Criando pap√©is base...
2025-09-23 15:43:29.210 -03:00 [INF] üìã Pap√©is existentes antes: 6
2025-09-23 15:43:29.213 -03:00 [INF] üìã Verificando papel: SuperAdmin
2025-09-23 15:43:29.289 -03:00 [INF] ‚ö†Ô∏è  Papel 'SuperAdmin' j√° existe
2025-09-23 15:43:29.292 -03:00 [INF] üìã Verificando papel: Admin
2025-09-23 15:43:29.295 -03:00 [INF] ‚ö†Ô∏è  Papel 'Admin' j√° existe
2025-09-23 15:43:29.297 -03:00 [INF] üìã Verificando papel: Usuario
2025-09-23 15:43:29.300 -03:00 [INF] ‚ö†Ô∏è  Papel 'Usuario' j√° existe
2025-09-23 15:43:29.301 -03:00 [INF] üìã Verificando papel: GestorUsuarios
2025-09-23 15:43:29.304 -03:00 [INF] ‚ö†Ô∏è  Papel 'GestorUsuarios' j√° existe
2025-09-23 15:43:29.306 -03:00 [INF] üìã Verificando papel: GestorPermissoes
2025-09-23 15:43:29.309 -03:00 [INF] ‚ö†Ô∏è  Papel 'GestorPermissoes' j√° existe
2025-09-23 15:43:29.310 -03:00 [INF] üìã Verificando papel: Auditor
2025-09-23 15:43:29.312 -03:00 [INF] ‚ö†Ô∏è  Papel 'Auditor' j√° existe
2025-09-23 15:43:29.314 -03:00 [INF] üìã Pap√©is existentes depois: 6
2025-09-23 15:43:29.321 -03:00 [INF] üîê Criando permiss√µes base...
2025-09-23 15:43:29.337 -03:00 [INF] ‚ö†Ô∏è Todas as permiss√µes j√° existem
2025-09-23 15:43:29.343 -03:00 [INF] üìã Total de permiss√µes no sistema: 42
2025-09-23 15:43:29.347 -03:00 [INF] üîó Associando permiss√µes aos pap√©is...
2025-09-23 15:43:29.383 -03:00 [INF] üëë SuperAdmin n√£o requer associa√ß√£o expl√≠cita de permiss√µes (bypass total)
2025-09-23 15:43:29.400 -03:00 [INF] ‚ö†Ô∏è Todas as permiss√µes j√° est√£o associadas ao papel Admin
2025-09-23 15:43:29.403 -03:00 [INF] ‚úÖ Admin agora tem 36 permiss√µes (com ressalvas)
2025-09-23 15:43:29.408 -03:00 [INF] ‚ö†Ô∏è Todas as permiss√µes j√° est√£o associadas ao papel Usuario
2025-09-23 15:43:29.410 -03:00 [INF] ‚úÖ Usuario agora tem 1 permiss√µes
2025-09-23 15:43:29.414 -03:00 [INF] ‚ö†Ô∏è Todas as permiss√µes j√° est√£o associadas ao papel GestorUsuarios
2025-09-23 15:43:29.415 -03:00 [INF] ‚úÖ GestorUsuarios agora tem 11 permiss√µes
2025-09-23 15:43:29.417 -03:00 [INF] üîó Associa√ß√£o de permiss√µes conclu√≠da!
2025-09-23 15:43:29.421 -03:00 [INF] üëë Criando usu√°rio Super Admin...
2025-09-23 15:43:29.422 -03:00 [INF] üëë Verificando se usu√°rio willian.cavalcante@skymsen.com j√° existe...
2025-09-23 15:43:29.565 -03:00 [INF] ‚ö†Ô∏è  Super Admin j√° existe (ID: 1)
2025-09-23 15:43:29.644 -03:00 [INF] üîç Usu√°rio tem papel SuperAdmin: True
2025-09-23 15:43:29.648 -03:00 [INF] üë• Criando grupos base...
2025-09-23 15:43:29.667 -03:00 [INF] ‚ö†Ô∏è  Grupo 'Administradores' j√° existe
2025-09-23 15:43:29.671 -03:00 [INF] ‚ö†Ô∏è  Grupo 'Gestores' j√° existe
2025-09-23 15:43:29.675 -03:00 [INF] ‚ö†Ô∏è  Grupo 'Usuarios' j√° existe
2025-09-23 15:43:29.679 -03:00 [INF] ‚ö†Ô∏è  Grupo 'Auditores' j√° existe
2025-09-23 15:43:29.681 -03:00 [INF] üìß Criando templates de email...
2025-09-23 15:43:29.703 -03:00 [WRN] ‚ö†Ô∏è Nenhuma configura√ß√£o de email encontrada. Pulando cria√ß√£o de templates.
2025-09-23 15:43:29.706 -03:00 [INF] üß± Criando tipos e status de aplica√ß√£o base...
2025-09-23 15:43:29.772 -03:00 [INF] üß© Criando aplica√ß√£o 'Gestus'...
2025-09-23 15:43:29.870 -03:00 [INF] ‚ö†Ô∏è Aplica√ß√£o 'Gestus' j√° existe
2025-09-23 15:43:29.874 -03:00 [INF] üëë Criando usu√°rio Super Admin...
2025-09-23 15:43:29.877 -03:00 [INF] üëë Verificando se usu√°rio willian.cavalcante@skymsen.com j√° existe...
2025-09-23 15:43:29.879 -03:00 [INF] ‚ö†Ô∏è  Super Admin j√° existe (ID: 1)
2025-09-23 15:43:29.881 -03:00 [INF] üîç Usu√°rio tem papel SuperAdmin: True
2025-09-23 15:43:29.884 -03:00 [INF] üë§ Criando usu√°rio Administrador...
2025-09-23 15:43:29.889 -03:00 [INF] ‚ö†Ô∏è  Administrador j√° existe (ID: 2)
2025-09-23 15:43:29.950 -03:00 [INF] üíæ Salvando mudan√ßas no banco...
2025-09-23 15:43:29.985 -03:00 [INF] üíæ 0 mudan√ßas salvas no banco
2025-09-23 15:43:29.988 -03:00 [INF] ‚úÖ Seeder executado com sucesso!
2025-09-23 15:43:29.988 -03:00 [INF] üìß Inicializando templates de email padr√£o...
2025-09-23 15:43:29.991 -03:00 [INF] üå± Inicializando templates padr√£o do sistema...
2025-09-23 15:43:30.004 -03:00 [INF] ‚ö†Ô∏è Nenhuma configura√ß√£o de email encontrada. Criando configura√ß√£o padr√£o...
2025-09-23 15:43:30.210 -03:00 [INF] ‚úÖ Template padr√£o criado - Tipo: RecuperarSenha
2025-09-23 15:43:30.237 -03:00 [INF] ‚úÖ Template padr√£o criado - Tipo: BoasVindas
2025-09-23 15:43:30.243 -03:00 [INF] ‚úÖ Template padr√£o criado - Tipo: ConfirmarEmail
2025-09-23 15:43:30.245 -03:00 [INF] ‚úÖ Templates padr√£o inicializados com sucesso
2025-09-23 15:43:30.246 -03:00 [INF] ‚úÖ Templates de email inicializados com sucesso
2025-09-23 15:43:30.247 -03:00 [INF] ‚úÖ Inicializa√ß√£o do banco conclu√≠da com sucesso.
2025-09-23 15:43:30.422 -03:00 [INF] Initializing UI Database
2025-09-23 15:43:30.563 -03:00 [WRN] The WebRootPath was not found: D:\projetos\Gestus\wwwroot. Static files may be unavailable.
2025-09-23 15:43:30.759 -03:00 [WRN] Failed to determine the https port for redirect.
2025-09-23 15:43:31.025 -03:00 [INF] HTTP GET /saude responded 200 in 303.8171 ms
2025-09-23 15:43:31.111 -03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-09-23 15:44:01.416 -03:00 [INF] HTTP GET /saude responded 200 in 155.0228 ms
2025-09-23 15:44:04.219 -03:00 [INF] üìù Auditoria registrada - Visualizar em UsuarioAplicacoes:2 por usu√°rio 1
2025-09-23 15:44:04.299 -03:00 [INF] HTTP GET /api/Usuarios/2/aplicacoes responded 200 in 429.3450 ms
2025-09-23 15:44:25.373 -03:00 [INF] üìù Auditoria registrada - Visualizar em UsuarioAplicacoes:1 por usu√°rio 1
2025-09-23 15:44:25.380 -03:00 [INF] HTTP GET /api/Usuarios/1/aplicacoes responded 200 in 53.4024 ms
2025-09-23 15:44:31.541 -03:00 [INF] HTTP GET /saude responded 200 in 98.0469 ms
2025-09-23 15:44:47.998 -03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-09-23 15:44:48.002 -03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-09-23 15:44:48.054 -03:00 [INF] HTTP GET /api/Usuarios/1/aplicacoes/disponiveis responded 200 in 163.1391 ms
2025-09-23 15:45:01.713 -03:00 [INF] HTTP GET /saude responded 200 in 141.7747 ms
2025-09-23 15:45:13.927 -03:00 [INF] HTTP GET /api/Templates/tipos responded 200 in 12.7299 ms
2025-09-23 15:45:29.477 -03:00 [INF] üîç === DEBUG: Claims do usu√°rio ===
2025-09-23 15:45:29.480 -03:00 [INF]    Tipo: iss | Valor: http://localhost:5000/
2025-09-23 15:45:29.482 -03:00 [INF]    Tipo: exp | Valor: 1758656312
2025-09-23 15:45:29.484 -03:00 [INF]    Tipo: iat | Valor: 1758652712
2025-09-23 15:45:29.486 -03:00 [INF]    Tipo: scope | Valor: openid
2025-09-23 15:45:29.489 -03:00 [INF]    Tipo: jti | Valor: e847bfd6-e1ea-4e8f-9087-2777c2ca29de
2025-09-23 15:45:29.491 -03:00 [INF]    Tipo: sub | Valor: 1
2025-09-23 15:45:29.493 -03:00 [INF]    Tipo: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier | Valor: 1
2025-09-23 15:45:29.495 -03:00 [INF]    Tipo: name | Valor: Super Admin
2025-09-23 15:45:29.497 -03:00 [INF]    Tipo: preferred_username | Valor: willian.cavalcante@skymsen.com
2025-09-23 15:45:29.500 -03:00 [INF]    Tipo: email | Valor: willian.cavalcante@skymsen.com
2025-09-23 15:45:29.502 -03:00 [INF]    Tipo: email_verified | Valor: true
2025-09-23 15:45:29.504 -03:00 [INF]    Tipo: nome | Valor: Super
2025-09-23 15:45:29.505 -03:00 [INF]    Tipo: sobrenome | Valor: Admin
2025-09-23 15:45:29.507 -03:00 [INF]    Tipo: ultimo_login | Valor: 2025-09-23T18:38:32Z
2025-09-23 15:45:29.509 -03:00 [INF]    Tipo: timezone | Valor: E. South America Standard Time
2025-09-23 15:45:29.511 -03:00 [INF]    Tipo: utc_offset | Valor: 03:00:00
2025-09-23 15:45:29.512 -03:00 [INF]    Tipo: role | Valor: SuperAdmin
2025-09-23 15:45:29.513 -03:00 [INF]    Tipo: permissao | Valor: *
2025-09-23 15:45:29.515 -03:00 [INF]    Tipo: aud | Valor: gestus_api
2025-09-23 15:45:29.516 -03:00 [INF]    Tipo: oi_prst | Valor: gestus_api
2025-09-23 15:45:29.518 -03:00 [INF]    Tipo: client_id | Valor: gestus_api
2025-09-23 15:45:29.521 -03:00 [INF]    Tipo: oi_tkn_id | Valor: 594aaa9a-10d1-4993-aee1-d428474ab631
2025-09-23 15:45:29.523 -03:00 [INF]    Tipo: oi_tkn_typ | Valor: urn:ietf:params:oauth:token-type:access_token
2025-09-23 15:45:29.525 -03:00 [INF]    Tipo: oi_crt_dt | Valor: Tue, 23 Sep 2025 18:38:32 GMT
2025-09-23 15:45:29.526 -03:00 [INF]    Tipo: oi_exp_dt | Valor: Tue, 23 Sep 2025 19:38:32 GMT
2025-09-23 15:45:29.527 -03:00 [INF]    Tipo: oi_aud | Valor: gestus_api
2025-09-23 15:45:29.529 -03:00 [INF]    Tipo: oi_scp | Valor: openid
2025-09-23 15:45:29.530 -03:00 [INF] üîç === FIM DEBUG CLAIMS ===
2025-09-23 15:45:29.571 -03:00 [INF] HTTP GET /api/email-config responded 404 in 103.0951 ms
2025-09-23 15:45:31.848 -03:00 [INF] HTTP GET /saude responded 200 in 96.4120 ms
2025-09-23 15:46:03.500 -03:00 [INF] üîç Ambiente atual: Production
2025-09-23 15:46:03.536 -03:00 [INF] üîç √â Development? False
2025-09-23 15:46:03.645 -03:00 [INF] üîß Verificando estado do banco de dados...
2025-09-23 15:46:04.980 -03:00 [INF] ‚úÖ Migra√ß√µes aplicadas com sucesso
2025-09-23 15:46:04.982 -03:00 [INF] üå± Executando seeder inicial...
2025-09-23 15:46:05.004 -03:00 [INF] üå± Iniciando seeder de dados iniciais...
2025-09-23 15:46:05.101 -03:00 [INF] üìä Conex√£o com banco: OK
2025-09-23 15:46:05.105 -03:00 [INF] üîß Criando scopes OpenIddict...
2025-09-23 15:46:05.429 -03:00 [INF] ‚ö†Ô∏è Scope 'profile' j√° existe no OpenIddict
2025-09-23 15:46:05.448 -03:00 [INF] ‚ö†Ô∏è Scope 'email' j√° existe no OpenIddict
2025-09-23 15:46:05.452 -03:00 [INF] ‚ö†Ô∏è Scope 'roles' j√° existe no OpenIddict
2025-09-23 15:46:05.455 -03:00 [INF] üîß Criando aplica√ß√µes OpenIddict...
2025-09-23 15:46:05.517 -03:00 [INF] ‚ö†Ô∏è Aplica√ß√£o 'gestus_api' j√° existe no OpenIddict
2025-09-23 15:46:05.531 -03:00 [INF] ‚ö†Ô∏è Aplica√ß√£o 'gestus_spa' j√° existe no OpenIddict
2025-09-23 15:46:05.535 -03:00 [INF] üìã Criando pap√©is base...
2025-09-23 15:46:05.565 -03:00 [INF] üìã Pap√©is existentes antes: 6
2025-09-23 15:46:05.567 -03:00 [INF] üìã Verificando papel: SuperAdmin
2025-09-23 15:46:05.616 -03:00 [INF] ‚ö†Ô∏è  Papel 'SuperAdmin' j√° existe
2025-09-23 15:46:05.619 -03:00 [INF] üìã Verificando papel: Admin
2025-09-23 15:46:05.621 -03:00 [INF] ‚ö†Ô∏è  Papel 'Admin' j√° existe
2025-09-23 15:46:05.622 -03:00 [INF] üìã Verificando papel: Usuario
2025-09-23 15:46:05.624 -03:00 [INF] ‚ö†Ô∏è  Papel 'Usuario' j√° existe
2025-09-23 15:46:05.625 -03:00 [INF] üìã Verificando papel: GestorUsuarios
2025-09-23 15:46:05.626 -03:00 [INF] ‚ö†Ô∏è  Papel 'GestorUsuarios' j√° existe
2025-09-23 15:46:05.627 -03:00 [INF] üìã Verificando papel: GestorPermissoes
2025-09-23 15:46:05.629 -03:00 [INF] ‚ö†Ô∏è  Papel 'GestorPermissoes' j√° existe
2025-09-23 15:46:05.630 -03:00 [INF] üìã Verificando papel: Auditor
2025-09-23 15:46:05.631 -03:00 [INF] ‚ö†Ô∏è  Papel 'Auditor' j√° existe
2025-09-23 15:46:05.633 -03:00 [INF] üìã Pap√©is existentes depois: 6
2025-09-23 15:46:05.638 -03:00 [INF] üîê Criando permiss√µes base...
2025-09-23 15:46:05.652 -03:00 [INF] ‚ö†Ô∏è Todas as permiss√µes j√° existem
2025-09-23 15:46:05.657 -03:00 [INF] üìã Total de permiss√µes no sistema: 42
2025-09-23 15:46:05.660 -03:00 [INF] üîó Associando permiss√µes aos pap√©is...
2025-09-23 15:46:05.685 -03:00 [INF] üëë SuperAdmin n√£o requer associa√ß√£o expl√≠cita de permiss√µes (bypass total)
2025-09-23 15:46:05.698 -03:00 [INF] ‚ö†Ô∏è Todas as permiss√µes j√° est√£o associadas ao papel Admin
2025-09-23 15:46:05.700 -03:00 [INF] ‚úÖ Admin agora tem 36 permiss√µes (com ressalvas)
2025-09-23 15:46:05.706 -03:00 [INF] ‚ö†Ô∏è Todas as permiss√µes j√° est√£o associadas ao papel Usuario
2025-09-23 15:46:05.707 -03:00 [INF] ‚úÖ Usuario agora tem 1 permiss√µes
2025-09-23 15:46:05.710 -03:00 [INF] ‚ö†Ô∏è Todas as permiss√µes j√° est√£o associadas ao papel GestorUsuarios
2025-09-23 15:46:05.711 -03:00 [INF] ‚úÖ GestorUsuarios agora tem 11 permiss√µes
2025-09-23 15:46:05.712 -03:00 [INF] üîó Associa√ß√£o de permiss√µes conclu√≠da!
2025-09-23 15:46:05.714 -03:00 [INF] üëë Criando usu√°rio Super Admin...
2025-09-23 15:46:05.715 -03:00 [INF] üëë Verificando se usu√°rio willian.cavalcante@skymsen.com j√° existe...
2025-09-23 15:46:05.831 -03:00 [INF] ‚ö†Ô∏è  Super Admin j√° existe (ID: 1)
2025-09-23 15:46:05.901 -03:00 [INF] üîç Usu√°rio tem papel SuperAdmin: True
2025-09-23 15:46:05.905 -03:00 [INF] üë• Criando grupos base...
2025-09-23 15:46:05.924 -03:00 [INF] ‚ö†Ô∏è  Grupo 'Administradores' j√° existe
2025-09-23 15:46:05.926 -03:00 [INF] ‚ö†Ô∏è  Grupo 'Gestores' j√° existe
2025-09-23 15:46:05.928 -03:00 [INF] ‚ö†Ô∏è  Grupo 'Usuarios' j√° existe
2025-09-23 15:46:05.930 -03:00 [INF] ‚ö†Ô∏è  Grupo 'Auditores' j√° existe
2025-09-23 15:46:05.932 -03:00 [INF] üìß Criando templates de email...
2025-09-23 15:46:05.946 -03:00 [WRN] ‚ö†Ô∏è Nenhuma configura√ß√£o de email encontrada. Pulando cria√ß√£o de templates.
2025-09-23 15:46:05.948 -03:00 [INF] üß± Criando tipos e status de aplica√ß√£o base...
2025-09-23 15:46:06.010 -03:00 [INF] üß© Criando aplica√ß√£o 'Gestus'...
2025-09-23 15:46:06.109 -03:00 [INF] ‚ö†Ô∏è Aplica√ß√£o 'Gestus' j√° existe
2025-09-23 15:46:06.113 -03:00 [INF] üëë Criando usu√°rio Super Admin...
2025-09-23 15:46:06.114 -03:00 [INF] üëë Verificando se usu√°rio willian.cavalcante@skymsen.com j√° existe...
2025-09-23 15:46:06.116 -03:00 [INF] ‚ö†Ô∏è  Super Admin j√° existe (ID: 1)
2025-09-23 15:46:06.120 -03:00 [INF] üîç Usu√°rio tem papel SuperAdmin: True
2025-09-23 15:46:06.123 -03:00 [INF] üë§ Criando usu√°rio Administrador...
2025-09-23 15:46:06.127 -03:00 [INF] ‚ö†Ô∏è  Administrador j√° existe (ID: 2)
2025-09-23 15:46:06.189 -03:00 [INF] üíæ Salvando mudan√ßas no banco...
2025-09-23 15:46:06.222 -03:00 [INF] üíæ 0 mudan√ßas salvas no banco
2025-09-23 15:46:06.225 -03:00 [INF] ‚úÖ Seeder executado com sucesso!
2025-09-23 15:46:06.226 -03:00 [INF] üìß Inicializando templates de email padr√£o...
2025-09-23 15:46:06.229 -03:00 [INF] üå± Inicializando templates padr√£o do sistema...
2025-09-23 15:46:06.241 -03:00 [INF] ‚ö†Ô∏è Nenhuma configura√ß√£o de email encontrada. Criando configura√ß√£o padr√£o...
2025-09-23 15:46:06.445 -03:00 [INF] ‚úÖ Template padr√£o criado - Tipo: RecuperarSenha
2025-09-23 15:46:06.451 -03:00 [INF] ‚úÖ Template padr√£o criado - Tipo: BoasVindas
2025-09-23 15:46:06.456 -03:00 [INF] ‚úÖ Template padr√£o criado - Tipo: ConfirmarEmail
2025-09-23 15:46:06.457 -03:00 [INF] ‚úÖ Templates padr√£o inicializados com sucesso
2025-09-23 15:46:06.458 -03:00 [INF] ‚úÖ Templates de email inicializados com sucesso
2025-09-23 15:46:06.459 -03:00 [INF] ‚úÖ Inicializa√ß√£o do banco conclu√≠da com sucesso.
2025-09-23 15:46:06.618 -03:00 [INF] Initializing UI Database
2025-09-23 15:46:06.757 -03:00 [WRN] The WebRootPath was not found: D:\projetos\Gestus\wwwroot. Static files may be unavailable.
2025-09-23 15:46:06.935 -03:00 [WRN] Failed to determine the https port for redirect.
2025-09-23 15:46:07.180 -03:00 [INF] HTTP GET /saude responded 200 in 280.8493 ms
2025-09-23 15:46:07.265 -03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-09-23 15:46:37.574 -03:00 [INF] HTTP GET /saude responded 200 in 165.8748 ms
2025-09-23 15:47:07.696 -03:00 [INF] HTTP GET /saude responded 200 in 100.7173 ms
2025-09-23 15:47:37.827 -03:00 [INF] HTTP GET /saude responded 200 in 102.5193 ms
2025-09-23 15:48:07.957 -03:00 [INF] HTTP GET /saude responded 200 in 102.2788 ms
2025-09-23 15:48:38.071 -03:00 [INF] HTTP GET /saude responded 200 in 94.7114 ms
2025-09-23 15:49:08.184 -03:00 [INF] HTTP GET /saude responded 200 in 95.1138 ms
2025-09-23 15:49:38.307 -03:00 [INF] HTTP GET /saude responded 200 in 93.4192 ms
2025-09-23 15:50:08.442 -03:00 [INF] HTTP GET /saude responded 200 in 101.2461 ms
2025-09-23 15:50:38.576 -03:00 [INF] HTTP GET /saude responded 200 in 105.0159 ms
2025-09-23 15:51:08.782 -03:00 [INF] HTTP GET /saude responded 200 in 93.3176 ms
2025-09-23 15:51:38.913 -03:00 [INF] HTTP GET /saude responded 200 in 104.3057 ms
2025-09-23 15:52:09.052 -03:00 [INF] HTTP GET /saude responded 200 in 102.4976 ms
2025-09-23 15:52:39.169 -03:00 [INF] HTTP GET /saude responded 200 in 95.0207 ms
2025-09-23 15:53:09.344 -03:00 [INF] HTTP GET /saude responded 200 in 150.6278 ms
